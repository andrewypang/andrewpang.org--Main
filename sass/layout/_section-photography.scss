/* 
//         2 stage transition for photography portal:
//         |-------------------------------------------------------------------------------|
//         |   1) @mixin section-photography__portal--hovered()                            |         |
//         |   When the mouse is over the portal,                                          |
//         |   fade into a white img overlay, and show portal link & underline transition. |
//         |                                                                               |
//         |   2) @mixin section-photography__portal__link--hovered()                      |
//         |   When the mouse is over the portal link,                                     |
//         |   fill underline height to 100% and change link color.                        |
//         |-------------------------------------------------------------------------------|
//     */
@mixin section-photography__portal--hovered() {

    .section-photography__portal {

        &__img-src {
            transform: scale3d(1.01, 1.01, 1);
        }
    }

    &::after {
        opacity: 0.6;
    }

    .section-photography__portal__link {
        opacity: 1;
        visibility: visible;

        &::before {
            opacity: 1;
            visibility: visible;
            transform: scaleX(1);
        }
    }
}

@mixin section-photography__portal__link--hovered() {

    .section-photography__portal__link {

        &:hover,
        &:active {

            color: $text-color-light;

            &::before {
                height: 100%;
                background: $text-color-dark;
                z-index: -1;
            }
        }
    }
}

.section-photography {

    @extend .section--100vh;

    &__title {
        @extend .section-title;
        @extend .section__content;

        grid-column: 1 / -1;
        justify-self: center;
    }

    &__portal {
        @extend .section__content;

        position: relative;
        overflow: hidden;
        border-radius: 1rem;
        box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.25), 0px 4px 4px rgba(0, 0, 0, 0.25);

        transition: $transition-default;

        // ::after for a colored(in this case, white-ish) layout over the portal to contrast
        //  the link
        &::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: $text-color-light;
            opacity: 0;
            transition: inherit;

        }

        &__img-src {
            height: 100%;
            width: 100%;
            object-fit: cover;
            transform: scale3d(1.06, 1.06, 1);
            transition: inherit;
        }

        &__link {

            &:link,
            &:visited {
                @include absCenter;
                @extend .text-color;
                font-weight: bold;
                font-size: 2.4rem;
                line-height: 32px;
                text-transform: uppercase;
                z-index: 1;
                text-decoration: none;
                letter-spacing: 0.2rem;

                opacity: 0;
                visibility: hidden;
                transition: inherit;



            }

            // ::before pseudo-element to create an underline for the link
            &::before {
                content: "";
                background: $text-color-dark;
                position: absolute;
                width: 100%;
                height: 4px;
                bottom: 0;
                opacity: 0;
                visibility: hidden;
                transform: scaleX(0);
                transition: inherit;

            }

            // &:hover,
            // &:active {}

        }

        &--photography {

            grid-column: 3 / span 8;
            grid-row: 2 / span 5;
        }

        &--astrophotography {

            grid-column: 3 / span 8;
            grid-row: 7 / span 5;
        }

    }

}

@media (hover: none) {
    .section-photography__portal {
        @include section-photography__portal--hovered();
    }
}

@media (hover: hover) {
    .section-photography__portal {

        &:hover,
        &:active {
            @include section-photography__portal--hovered();
        }

        // When hoving over the portal AND the link,
        //  Then bring up underline and swap text & background color for contrast
        @include section-photography__portal__link--hovered();

    }
}

@include respond(tablet) {

    .section-photography {
        &__portal {
            grid-column: 1 / -1;
        }
    }
}

@include respond(phone) {

    .section-photography {
        &__title {
            grid-row: 1 / span 2;
        }

        &__portal {
            grid-column: 1 / -1;

            &__link {

                &:link,
                &:visited {
                    font-size: 1.4rem;
                }
            }

            &--photography {
                grid-row: 3 / span 5;
            }

            &--astrophotography {
                grid-row: 8 / span 5;
            }
        }
    }
}